@namespace TablerForNet.Components
@inherits TablerBaseComponent

<div class="card">
    <CascadingValue Value="@this">
        <div class="card-header">
        <ul class="nav nav-tabs card-header-tabs" data-toggle="tabs">
            @ChildContent
        </ul>
</div>
    </CascadingValue>

    <div class="card-body">
        <div class="tab-content">
            <div class="tab-pane active show">
                <div> @ActiveTab?.ChildContent</div>
            </div>
        </div>
    </div>
</div>

@code{

    public Tab? ActiveTab { get; private set; }

    public void AddTab(Tab tab)
    {
        if (ActiveTab == null)
        {
            SetActivateTab(tab);
        }
    }

    public void RemoveTab(Tab tab)
    {
        if (ActiveTab == tab)
        {
            SetActivateTab(null);
        }
    }

    public void SetActivateTab(Tab? tab)
    {
        if (tab == null)
        {
            ActiveTab = null;
            StateHasChanged();
            return;
        }

        if (ActiveTab != tab)
        {
            ActiveTab = tab;
            StateHasChanged();
        }
    }
}