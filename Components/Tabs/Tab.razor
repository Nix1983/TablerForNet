@namespace TablerForNet.Components
@inherits TablerBaseComponent

<li class="nav-item">
    <a @onclick=Activate class="nav-link cursor-pointer @TitleCssClass" data-toggle="tab">
        @if (Header != null)
        {
            @Header
        }
        else
        {
            @Title
        }
    </a>
</li>

@code{

    [CascadingParameter] Tabs? ContainerTabSet { get; set; }
    [Parameter] public string? Title { get; set; }
    [Parameter] public RenderFragment? Header { get; set; }

    string TitleCssClass => ContainerTabSet.ActiveTab == this ? "active" : null;

    protected override void OnInitialized()
    {
        ContainerTabSet?.AddTab(this);
    }

    public void Dispose()
    {
        ContainerTabSet?.RemoveTab(this);
    }

    void Activate()
    {
        ContainerTabSet?.SetActivateTab(this);
        OnClick.InvokeAsync();
    }
}